#!/bin/bash
#Variables
WPFILE='wp-config-work.php'
WPLINEBEFORE="stop editing!"
WPAUTOSAVE="define('AUTOSAVE_INTERVAL',300);"
WPDISABLEEDIT="define(â€˜DISALLOW_FILE_EDIT',true);"
WPPOSTREVISIONS="define('WP_POST_REVISIONS',5);"
WPTRASHDAYS="define('EMPTY_TRASH_DAYS',45);"
WPIMAGEEDIT="define('IMAGE_EDIT_OVERWRITE',true);"
WPDISABLEUPDATE="define('AUTOMATIC_UPDATER_DISABLED',true);"
WPDISABLECRON="define('DISABLE_WP_CRON',true);"
WPBLANK=" "
WPARRAY=($WPAUTOSAVE $WPDISABLEEDIT $WPPOSTREVISIONS $WPTRASHDAYS $WPIMAGEEDIT $WPDISABLEUPDATE $WPDISABLECRON)
WPSEARCH=("AUTOSAVE_INTERVAL" "DISALLOW_FILE_EDIT" "WP_POST_REVISIONS" "EMPTY_TRASH_DAYS" "IMAGE_EDIT_OVERWRITE" "AUTOMATIC_UPDATER_DISABLED" "DISABLE_WP_CRON")

echo "I'm going to work on $WPFILE"
for i in {0,1,2,3,4,5,6}; do

echo "Setting ${WPSEARCH[i]} ..."
if grep -q "${WPSEARCH[i]}" $WPFILE; then
	echo "${WPSEARCH[i]} ALREADY ENABLED"
else
	sed -i -- "/$WPLINEBEFORE/ i ${WPARRAY[i]}" $WPFILE
	echo "${WPSEARCH[i]} done.."
fi

done
